<!DOCTYPE HTML>
<html class="hljs">
<head>
  <meta
    name="viewport"
    charset="utf-8"
    content="width=device-width, initial-scale=1, user-scalable=no">
  <style>
pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!
Theme: GitHub Dark Dimmed
Description: Dark dimmed theme as seen on github.com
Author: github.com
Maintainer: @Hirse
Updated: 2021-05-15

Colors taken from GitHub's CSS
*/.hljs{color:#adbac7;background:#22272e}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#f47067}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#dcbdfb}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#6cb6ff}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#96d0ff}.hljs-built_in,.hljs-symbol{color:#f69d50}.hljs-code,.hljs-comment,.hljs-formula{color:#768390}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#8ddb8c}.hljs-subst{color:#adbac7}.hljs-section{color:#316dca;font-weight:700}.hljs-bullet{color:#eac55f}.hljs-emphasis{color:#adbac7;font-style:italic}.hljs-strong{color:#adbac7;font-weight:700}.hljs-addition{color:#b4f1b4;background-color:#1b4721}.hljs-deletion{color:#ffd8d3;background-color:#78191b}
/*! CodeSlide slides.vertical.css */
html, body {
  margin: 0;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  overflow: hidden;
}
p { display: contents; }
pre {
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
}
pre > code.hljs {
  backdrop-filter: brightness(1.5);
}
#slides {
  display: flex;
  flex-direction: column;
  position: absolute; /* fix height on mobile */
  width: 100vw;
  height: 100vh;
  overflow-y: scroll;
  scroll-behavior: smooth;
}
.slide {
  padding: 1em;
}
.slide > .title.bordered {
  border-top: thin solid currentColor;
}
.slide > .title {
  font-size: larger;
  font-weight: bolder;
}
@page {
  margin: 0;
  size: auto;
}
@media print {
  #slides {
    width: auto;
    height: auto;
  }
}

@font-face {
  font-family: 'Noto Sans Mono';
  font-style: normal;
  font-weight: 400;
  font-stretch: normal;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/notosansmono/v26/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_FNJ49o.ttf) format('truetype');
}
@font-face {
  font-family: 'Noto Sans Mono';
  font-style: normal;
  font-weight: 700;
  font-stretch: normal;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/notosansmono/v26/BngrUXNETWXI6LwhGYvaxZikqZqK6fBq6kPvUce2oAZcdthSBUsYck4-_LRO49o.ttf) format('truetype');
}

.hljs { font-family: Noto Sans Mono, ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace; }
#slides { font-size: 20px; }
#slides { font-weight: 400; }
  </style>
</head>
<body class="hljs">
  <div id="slides">
  <div class="slide" id="_0">
    <h1 id="the-introduction-of-codeslide">The Introduction of CodeSlide</h1>
  </div>
  <div class="slide" id="_1">
    <hr>
    <p><h1 id="codeslide">CodeSlide</h1>
<p><a href="https://www.npmjs.com/package/codeslide-cli?activeTab=readme"><img src="https://img.shields.io/npm/v/codeslide-cli?color=%230647D4&label=npm%3Acodeslide-cli&style=flat-square" alt=""></a></p>
<h2 id="features">Features</h2>
<ul>
<li>CodeSlide makes a slideshow for code snippets</li>
<li>Its applications:<ul>
<li><a href="./applications/cli/">CodeSlide CLI</a></li>
</ul>
</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>It uses <a href="https://github.com/evanw/esbuild">esbuild</a> as module bundler</li>
<li>It uses <a href="https://github.com/tj/commander.js">Commander.js</a> as CLI framework</li>
<li>It uses <a href="https://github.com/eta-dev/eta">Eta</a> as HTML template engine</li>
<li>It uses <a href="https://github.com/highlightjs/highlight.js">Highlight.js</a> as syntax highlighter</li>
<li>It uses <a href="https://github.com/node-fetch/node-fetch">Node Fetch</a> as resource fetcher</li>
<li>It uses <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> as PDF printer</li>
<li>It uses <a href="https://www.typescriptlang.org/">TypeScript</a> as the main programming language</li>
<li>It uses <a href="https://github.com/colinhacks/zod">Zod</a> as JSON schema validator</li>
</ul>
<h2 id="documents">Documents</h2>
<ul>
<li>See <a href="./docs/REFERENCE.md"><strong>Reference</strong></a> for more information</li>
</ul>
<h2 id="creator">Creator</h2>
<ul>
<li><a href="https://github.com/AsherJingkongChen">AsherJingkongChen</a></li>
</ul>
</p>
  </div>
  <div class="slide" id="_2">
    <hr>
    <h1 id="the-essentials">The essentials</h1>
  </div>
  <div class="slide" id="_3">
    <hr>
    <h1 id="render-the-html-template-and-css-to-a-slideshow">Render the HTML template and CSS to a slideshow</h1>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> <span class="hljs-title class_">HorizontalStylesheet</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides.horizontal.css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">VerticalStylesheet</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides.vertical.css&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Template</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides.html&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Stylesheet</span> = {
  <span class="hljs-attr">horizontal</span>: <span class="hljs-title class_">HorizontalStylesheet</span>,
  <span class="hljs-attr">vertical</span>: <span class="hljs-title class_">VerticalStylesheet</span>,
};

<span class="hljs-keyword">export</span> { <span class="hljs-title class_">Stylesheet</span>, <span class="hljs-title class_">Template</span> };
</code></pre></p>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;zod&#x27;</span>;
<span class="hljs-keyword">import</span> { isFormat } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./format&#x27;</span>;
<span class="hljs-keyword">import</span> { isLang } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./lang&#x27;</span>;
<span class="hljs-keyword">import</span> { isLayout } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./layout&#x27;</span>;
<span class="hljs-keyword">import</span> { isPagesize } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./pagesize&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Printer</span> = z.<span class="hljs-property">infer</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Printer</span>&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Printer</span> = z.<span class="hljs-title function_">object</span>(
  {
    <span class="hljs-attr">fontFamily</span>: z
      .<span class="hljs-title function_">string</span>()
      .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;&#x27;</span>)
      .<span class="hljs-title function_">transform</span>(<span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> <span class="hljs-string">`\
<span class="hljs-subst">${arg ? <span class="hljs-string">`<span class="hljs-subst">${arg}</span>, `</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>ui-monospace, SFMono-Regular, \
SF Mono, Menlo, Consolas, Liberation Mono, monospace`</span>
      ),
    <span class="hljs-attr">fontSize</span>: z
      .<span class="hljs-title function_">string</span>()
      .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;large&#x27;</span>),
    <span class="hljs-attr">fontWeight</span>: z
      .<span class="hljs-title function_">string</span>()
      .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;normal&#x27;</span>),
    <span class="hljs-attr">format</span>: z
      .<span class="hljs-title function_">string</span>()
      .<span class="hljs-title function_">refine</span>(isFormat)
      .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;html&#x27;</span>),
    <span class="hljs-attr">layout</span>: z
      .<span class="hljs-title function_">string</span>()
      .<span class="hljs-title function_">refine</span>(isLayout)
      .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;horizontal&#x27;</span>),
    <span class="hljs-attr">pagesize</span>: z
      .<span class="hljs-title function_">string</span>()
      .<span class="hljs-title function_">refine</span>(isPagesize)
      .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;a4&#x27;</span>),
    <span class="hljs-attr">slides</span>: z
      .<span class="hljs-title function_">array</span>(
        z.<span class="hljs-title function_">object</span>({
          <span class="hljs-attr">code</span>: z
            .<span class="hljs-title function_">string</span>()
            .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;&#x27;</span>),
          <span class="hljs-attr">lang</span>: z
            .<span class="hljs-title function_">string</span>()
            .<span class="hljs-title function_">refine</span>(isLang)
            .<span class="hljs-title function_">optional</span>(),
          <span class="hljs-attr">title</span>: z
            .<span class="hljs-title function_">string</span>()
            .<span class="hljs-title function_">default</span>(<span class="hljs-string">&#x27;&#x27;</span>),
        })
        .<span class="hljs-title function_">strict</span>()
      )
      .<span class="hljs-title function_">default</span>([]),
    <span class="hljs-attr">styles</span>: z
      .<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>())
      .<span class="hljs-title function_">default</span>([])
      .<span class="hljs-title function_">transform</span>(<span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> [
        <span class="hljs-string">&#x27;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/&#x27;</span> +
        <span class="hljs-string">&#x27;11.8.0/styles/github-dark-dimmed.min.css&#x27;</span>,
        ...arg,
      ]),
  })
  .<span class="hljs-title function_">transform</span>(<span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (
      arg.<span class="hljs-property">layout</span> === <span class="hljs-string">&#x27;horizontal&#x27;</span> &amp;&amp;
      arg.<span class="hljs-property">format</span> === <span class="hljs-string">&#x27;pdf&#x27;</span>
    ) {
      arg.<span class="hljs-property">layout</span> = <span class="hljs-string">&#x27;vertical&#x27;</span>;
    }
    <span class="hljs-keyword">return</span> arg;
  });
</code></pre></p>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { render <span class="hljs-keyword">as</span> renderEta } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;eta&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Stylesheet</span>, <span class="hljs-title class_">Template</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./slides&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Printer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./printer&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> render = (<span class="hljs-attr">printer</span>: <span class="hljs-title class_">Printer</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> <span class="hljs-title function_">renderEta</span>(
  <span class="hljs-title class_">Template</span>,
  {
    <span class="hljs-attr">layout</span>: printer.<span class="hljs-property">layout</span>,
    <span class="hljs-attr">slides</span>: printer.<span class="hljs-property">slides</span>,
    <span class="hljs-attr">style</span>: <span class="hljs-string">`\
&lt;style&gt;
<span class="hljs-subst">${
  [
    Stylesheet[printer.layout],
    ...printer.styles,
    <span class="hljs-string">`code { font-family: <span class="hljs-subst">${printer.fontFamily}</span>; }`</span>,
    <span class="hljs-string">`#slides { font-size: <span class="hljs-subst">${printer.fontSize}</span>; }`</span>,
    <span class="hljs-string">`#slides { font-weight: <span class="hljs-subst">${printer.fontWeight}</span>; }`</span>,
  ].join(<span class="hljs-string">&#x27;\n&#x27;</span>)
}</span>
  &lt;/style&gt;`</span>,
  },
  {
    <span class="hljs-attr">autoTrim</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">tags</span>: [<span class="hljs-string">&#x27;{%&#x27;</span>, <span class="hljs-string">&#x27;%}&#x27;</span>],
  }
);

<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./format&#x27;</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./lang&#x27;</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./layout&#x27;</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./pagesize&#x27;</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./printer&#x27;</span>;
</code></pre></p>
  </div>
  <div class="slide" id="_4">
    <hr>
    <h1 id="the-html-template-and-css">The HTML template and CSS</h1>
<p>HTML
  <pre><code class="language-html hljs"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hljs&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span>
    <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span>
    <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>
    <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1, user-scalable=no&quot;</span>&gt;</span>
  {%~ it.style %}
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hljs&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;slides&quot;</span>&gt;</span>
{%_ for (const [index, slide] of it.slides.entries()) { %}
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;slide&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;_{%~ index %}&quot;</span> <span class="hljs-attr">hidden</span>&gt;</span>
  {%_ if (slide.title) { %}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title
    {%_ if (index !== 0 &amp;&amp; it.layout === &#x27;vertical&#x27;) { %}
        {%_ ~ &#x27; bordered&#x27; %}
    {%_ } _%}
      &quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>{%_ _%}
          <span class="hljs-tag">&lt;<span class="hljs-name">code</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;language-plaintext hljs&quot;</span>&gt;</span>
            {%_ = slide.title _%}
          <span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>{%_ _%}
        <span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  {%_ } %}
  {%_ if (slide.code) { %}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;code&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>{%_ _%}
          <span class="hljs-tag">&lt;<span class="hljs-name">code</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;
    {%_ if (slide.lang) { %}
            {%_ ~ `language-${slide.lang}` %}
    {%_ } _%}
          &quot;</span>&gt;</span>
            {%_ = slide.code _%}
          <span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>{%_ _%}
        <span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  {%_ } %}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
{%_ } %}
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript">
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
  hljs.<span class="hljs-title function_">highlightAll</span>();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> slide <span class="hljs-keyword">of</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementsByClassName</span>(<span class="hljs-string">&#x27;slide&#x27;</span>)) {
    slide.<span class="hljs-property">hidden</span> = <span class="hljs-literal">false</span>;
  }
}, { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> });

hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;armasm&#x27;</span>, armasm);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;c&#x27;</span>, c);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;clojure&#x27;</span>, clojure);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;cmake&#x27;</span>, cmake);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;coffeescript&#x27;</span>, coffeescript);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;cpp&#x27;</span>, cpp);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;csharp&#x27;</span>, csharp);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;css&#x27;</span>, css);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;dart&#x27;</span>, dart);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;diff&#x27;</span>, diff);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;elixir&#x27;</span>, elixir);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;erlang&#x27;</span>, erlang);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;go&#x27;</span>, go);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;graphql&#x27;</span>, graphql);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;groovy&#x27;</span>, groovy);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;haskell&#x27;</span>, haskell);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;ini&#x27;</span>, ini);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;java&#x27;</span>, java);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;javascript&#x27;</span>, javascript);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;json&#x27;</span>, json);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;julia&#x27;</span>, julia);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;kotlin&#x27;</span>, kotlin);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;less&#x27;</span>, less);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;lisp&#x27;</span>, lisp);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;lua&#x27;</span>, lua);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;makefile&#x27;</span>, makefile);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;markdown&#x27;</span>, markdown);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;objectivec&#x27;</span>, objectivec);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;perl&#x27;</span>, perl);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;php&#x27;</span>, php);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;plaintext&#x27;</span>, plaintext);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;python&#x27;</span>, python);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;r&#x27;</span>, r);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;ruby&#x27;</span>, ruby);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;rust&#x27;</span>, rust);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;scala&#x27;</span>, scala);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;scss&#x27;</span>, scss);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;shell&#x27;</span>, shell);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;sql&#x27;</span>, sql);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;swift&#x27;</span>, swift);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;typescript&#x27;</span>, typescript);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;vbnet&#x27;</span>, vbnet);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;xml&#x27;</span>, xml);
hljs.<span class="hljs-title function_">registerLanguage</span>(<span class="hljs-string">&#x27;yaml&#x27;</span>, yaml);

<span class="hljs-comment">/* Import dependencies from CDN */</span>
<span class="hljs-keyword">import</span> hljs <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/core.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> armasm <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/armasm.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> c <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/c.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> clojure <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/clojure.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> cmake <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/cmake.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> coffeescript <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/coffeescript.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> cpp <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/cpp.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> csharp <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/csharp.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> css <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/css.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> dart <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/dart.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> diff <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/diff.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> elixir <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/elixir.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> erlang <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/erlang.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> go <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/go.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> graphql <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/graphql.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> groovy <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/groovy.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> haskell <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/haskell.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> ini <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/ini.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> java <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/java.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> javascript <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/javascript.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> json <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/json.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> julia <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/julia.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> kotlin <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/kotlin.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> less <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/less.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> lisp <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/lisp.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> lua <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/lua.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> makefile <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/makefile.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> markdown <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/markdown.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> objectivec <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/objectivec.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> perl <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/perl.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> php <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/php.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> plaintext <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/plaintext.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> python <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/python.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> r <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/r.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> ruby <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/ruby.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> rust <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/rust.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> scala <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/scala.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> scss <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/scss.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> shell <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/shell.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> sql <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/sql.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> swift <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/swift.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> typescript <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/typescript.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> vbnet <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/vbnet.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> xml <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/xml.min.js&#x27;</span>;
<span class="hljs-keyword">import</span> yaml <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.8.0/build/es/languages/yaml.min.js&#x27;</span>;
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></p>
<p>CSS (Horizontal layout)
  <pre><code class="language-css hljs"><span class="hljs-comment">/*! CodeSlide slides.horizontal.css */</span>
<span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  -webkit-print-<span class="hljs-attribute">color</span>-adjust: exact;
  print-<span class="hljs-attribute">color</span>-adjust: exact;
  <span class="hljs-attribute">overflow</span>: hidden;
  overscroll-behavior: none;
  <span class="hljs-attribute">scrollbar-width</span>: none;
}
<span class="hljs-selector-tag">body</span>::-webkit-scrollbar {
  <span class="hljs-attribute">display</span>: none;
}
pre {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">word-break</span>: break-word;
}
<span class="hljs-selector-id">#slides</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: row;
  <span class="hljs-attribute">position</span>: absolute; <span class="hljs-comment">/* fix height on mobile */</span>
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">overflow-x</span>: scroll;
  scroll-behavior: smooth;
  <span class="hljs-attribute">scroll-snap-type</span>: x mandatory;
}
<span class="hljs-selector-class">.slide</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">100vw</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">overflow-y</span>: scroll;
  <span class="hljs-attribute">scroll-snap-align</span>: start;
  <span class="hljs-attribute">scroll-snap-stop</span>: always;
  <span class="hljs-attribute">scrollbar-width</span>: none;
}
<span class="hljs-selector-class">.slide</span>::-webkit-scrollbar {
  <span class="hljs-attribute">display</span>: none;
}
<span class="hljs-selector-class">.slide</span> &gt; <span class="hljs-selector-class">.title</span> {
  <span class="hljs-attribute">font-size</span>: larger;
  <span class="hljs-attribute">font-weight</span>: bolder;
}
<span class="hljs-keyword">@page</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  size: auto;
}
<span class="hljs-keyword">@media</span> print {
  <span class="hljs-selector-id">#slides</span> {
    <span class="hljs-attribute">width</span>: auto;
    <span class="hljs-attribute">height</span>: auto;
  }
}
</code></pre></p>
<p>CSS (Vertical layout)
  <pre><code class="language-css hljs"><span class="hljs-comment">/*! CodeSlide slides.vertical.css */</span>
<span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  -webkit-print-<span class="hljs-attribute">color</span>-adjust: exact;
  print-<span class="hljs-attribute">color</span>-adjust: exact;
  <span class="hljs-attribute">overflow</span>: hidden;
}
pre {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">word-break</span>: break-word;
}
<span class="hljs-selector-id">#slides</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">position</span>: absolute; <span class="hljs-comment">/* fix height on mobile */</span>
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100vw</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">overflow</span>: scroll;
}
<span class="hljs-selector-class">.slide</span> &gt; <span class="hljs-selector-class">.title</span><span class="hljs-selector-class">.bordered</span> {
  <span class="hljs-attribute">border-top</span>: thin solid currentColor;
}
<span class="hljs-selector-class">.slide</span> &gt; <span class="hljs-selector-class">.title</span> {
  <span class="hljs-attribute">font-size</span>: larger;
  <span class="hljs-attribute">font-weight</span>: bolder;
}
<span class="hljs-keyword">@page</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  size: auto;
}
<span class="hljs-keyword">@media</span> print {
  <span class="hljs-selector-id">#slides</span> {
    <span class="hljs-attribute">width</span>: auto;
    <span class="hljs-attribute">height</span>: auto;
  }
}
</code></pre></p>
  </div>
  <div class="slide" id="_5">
    <hr>
    <h1 id="lets-see-some-applications">Let&#39;s see some applications!</h1>
  </div>
  <div class="slide" id="_6">
    <hr>
    <h1 id="codeslide-cli-a-nodejs-command-line-interface">CodeSlide CLI: A Node.js Command Line Interface</h1>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { program } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;commander&#x27;</span>;
<span class="hljs-keyword">import</span> { version, homepage, name } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../package.json&#x27;</span>;
<span class="hljs-keyword">import</span> { run } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./run&#x27;</span>;

program
  .<span class="hljs-title function_">name</span>(name)
  .<span class="hljs-title function_">description</span>(<span class="hljs-string">`\
Example: <span class="hljs-subst">${name}</span> -o ./output.html

Make a slideshow (HTML/PDF file) for code snippets
with CLI options.

Go to home page for more information: <span class="hljs-subst">${homepage}</span>
`</span> )
  .<span class="hljs-title function_">version</span>(version, <span class="hljs-string">&#x27;-v, --version&#x27;</span>,
    <span class="hljs-string">&#x27;Check the version number.&#x27;</span>
  )
  .<span class="hljs-title function_">helpOption</span>(<span class="hljs-string">&#x27;-h, --help&#x27;</span>,
    <span class="hljs-string">&#x27;Check all options and their description.&#x27;</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;-o, --output [local_path]&#x27;</span>, <span class="hljs-string">`\
The &quot;output file path&quot; of slideshow.
By default it writes the output to stdout.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--font-family [CSS_value]&#x27;</span>, <span class="hljs-string">`\
The font family of &quot;displayed texts&quot;.
Default is &quot;ui-monospace, SFMono-Regular, \
SF Mono, Menlo, Consolas, Liberation Mono, monospace&quot;.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--font-size [CSS_value]&#x27;</span>, <span class="hljs-string">`\
The font size of &quot;displayed texts&quot;.
Default is &quot;large&quot;.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--font-weight [CSS_value]&#x27;</span>, <span class="hljs-string">`\
The font weight of &quot;displayed texts&quot;.
Default is &quot;normal&quot;.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--format [html | pdf]&#x27;</span>, <span class="hljs-string">`\
The &quot;output file format&quot; of slideshow.
Default is &quot;html&quot;.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--layout [layout]&#x27;</span>, <span class="hljs-string">`\
The &quot;layout&quot; of slideshow.
[layout] can be either &quot;horizontal&quot; or &quot;vertical&quot;
Default is &quot;horizontal&quot;.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--pagesize [size]&#x27;</span>, <span class="hljs-string">`\
The page size of slideshow &quot;in PDF format&quot;.
[size] can be either &quot;letter&quot;, &quot;legal&quot;, &quot;tabloid&quot;, \
&quot;ledger&quot;, &quot;a0&quot;, &quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;, &quot;a4&quot;, &quot;a5&quot;, &quot;a6&quot;
Default is &quot;a4&quot;.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--slides [slide...]&#x27;</span>, <span class="hljs-string">`\
The &quot;contents&quot; to show. An array of slides.
Each slide is a pair of title and path (URL).
Example: --slides &quot;Intro&quot; &quot;./README.md&quot; &quot;Program&quot; &quot;./index.js&quot;; \
There are 2 slides where the first is titled as &quot;Intro&quot; \
and shows the content from &quot;./README.md&quot;.`</span>
  )
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">&#x27;--styles [path...]&#x27;</span>, <span class="hljs-string">`\
The &quot;display styles&quot; of slideshow. An array of paths (URLs) of CSS files.
You may need this if the slideshow needs to ...:
1. load custom font family.
2. load custom syntax highlighting theme.
3. change the background.`</span>
  )
  .<span class="hljs-title function_">action</span>(run)
  .<span class="hljs-title function_">parseAsync</span>();
</code></pre></p>
  </div>
  <div class="slide" id="_7">
    <hr>
    <h1 id="cli-options-validator">CLI options validator</h1>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;zod&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">CLIOptions</span> = z.<span class="hljs-property">infer</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">CLIOptions</span>&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CLIOptions</span> = z.<span class="hljs-title function_">object</span>(
  {
    <span class="hljs-attr">output</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">fontFamily</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">fontSize</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">fontWeight</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">format</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">layout</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">pagesize</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">slides</span>: z.<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>()).<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">styles</span>: z.<span class="hljs-title function_">array</span>(z.<span class="hljs-title function_">string</span>()).<span class="hljs-title function_">optional</span>(),
  })
  .<span class="hljs-title function_">strict</span>()
  .superRefine(<span class="hljs-function">(<span class="hljs-params">ref, ctx</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> ((ref.<span class="hljs-property">slides</span>?.<span class="hljs-property">length</span> ?? <span class="hljs-number">0</span>) % <span class="hljs-number">2</span> !== <span class="hljs-number">0</span>) {
      ctx.<span class="hljs-title function_">addIssue</span>({
        <span class="hljs-attr">code</span>: z.<span class="hljs-property">ZodIssueCode</span>.<span class="hljs-property">custom</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;The option --slides should has even number of arguments&#x27;</span>,
      });
    }
  });</code></pre></p>
  </div>
  <div class="slide" id="_8">
    <hr>
    <h1 id="parse-cli-options---print-to-output">Parse CLI options -&gt; Print to output</h1>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Printer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../src&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CLIOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./options&#x27;</span>;
<span class="hljs-keyword">import</span> { mayfail } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./tool&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> parse = (
  <span class="hljs-attr">options</span>: <span class="hljs-title class_">CLIOptions</span>,
): <span class="hljs-function"><span class="hljs-params">Printer</span> =&gt;</span> {
  options = <span class="hljs-title function_">mayfail</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">CLIOptions</span>.<span class="hljs-title function_">parse</span>(options));

  <span class="hljs-keyword">const</span> <span class="hljs-attr">slides</span>: <span class="hljs-title class_">Printer</span>[<span class="hljs-string">&#x27;slides&#x27;</span>] = [];
  options.<span class="hljs-property">slides</span>?.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">arg, index</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (index % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) {
      slides.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">title</span>: arg, <span class="hljs-attr">code</span>: <span class="hljs-string">&#x27;&#x27;</span> });
    } <span class="hljs-keyword">else</span> {
      slides[slides.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">code</span> = arg;
    }
  });

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">mayfail</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Printer</span>.<span class="hljs-title function_">parse</span>({
    ...options,
    slides,
  }));
};
</code></pre></p>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PathOrFileDescriptor</span>, writeFileSync } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;fs&#x27;</span>;
<span class="hljs-keyword">import</span> { launch } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;puppeteer&#x27;</span>;
<span class="hljs-keyword">import</span> { render, <span class="hljs-title class_">Printer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../src&#x27;</span>;
<span class="hljs-keyword">import</span> { mayfailAsync } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./tool&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> print = (
  <span class="hljs-attr">output</span>: <span class="hljs-title class_">PathOrFileDescriptor</span>,
  <span class="hljs-attr">printer</span>: <span class="hljs-title class_">Printer</span>,
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; <span class="hljs-title function_">mayfailAsync</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">if</span> (printer.<span class="hljs-property">format</span> === <span class="hljs-string">&#x27;html&#x27;</span>) {
    <span class="hljs-title function_">writeFileSync</span>(output, <span class="hljs-title function_">render</span>(printer), <span class="hljs-string">&#x27;utf8&#x27;</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (printer.<span class="hljs-property">format</span> === <span class="hljs-string">&#x27;pdf&#x27;</span>) {
    <span class="hljs-keyword">const</span> browser = <span class="hljs-keyword">await</span> <span class="hljs-title function_">mayfailAsync</span>(<span class="hljs-title function_">launch</span>());
    <span class="hljs-keyword">const</span> page = <span class="hljs-keyword">await</span> <span class="hljs-title function_">mayfailAsync</span>(browser.<span class="hljs-title function_">newPage</span>());
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">mayfailAsync</span>(page.<span class="hljs-title function_">setContent</span>(<span class="hljs-title function_">render</span>(printer)));
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">mayfailAsync</span>(
      page.<span class="hljs-title function_">pdf</span>({
        <span class="hljs-attr">printBackground</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">format</span>: printer.<span class="hljs-property">pagesize</span>, <span class="hljs-comment">// is it redundant?</span>
      }
    ));
    <span class="hljs-keyword">const</span> closeBrowser = <span class="hljs-title function_">mayfailAsync</span>(browser.<span class="hljs-title function_">close</span>());
    <span class="hljs-title function_">writeFileSync</span>(output, result, <span class="hljs-string">&#x27;base64&#x27;</span>);
    <span class="hljs-keyword">await</span> closeBrowser;
  }
});
</code></pre></p>
<p>  <pre><code class="language-ts hljs"><span class="hljs-keyword">import</span> { stdout } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;process&#x27;</span>;
<span class="hljs-keyword">import</span> { guessLangFromURL } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../../../src&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CLIOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./options&#x27;</span>;
<span class="hljs-keyword">import</span> { parse } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./parse&#x27;</span>;
<span class="hljs-keyword">import</span> { print } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./print&#x27;</span>;
<span class="hljs-keyword">import</span> { getContent, parseURL } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./tool&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> run = <span class="hljs-keyword">async</span> (
  <span class="hljs-attr">options</span>: <span class="hljs-title class_">CLIOptions</span>,
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; =&gt; {
  <span class="hljs-keyword">const</span> printer = <span class="hljs-title function_">parse</span>(options);

  printer.<span class="hljs-property">slides</span> = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
    printer.<span class="hljs-property">slides</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">async</span> (slide) =&gt; {
      <span class="hljs-keyword">if</span> (slide.<span class="hljs-property">code</span>) {
        <span class="hljs-keyword">const</span> codeURL = <span class="hljs-title function_">parseURL</span>(slide.<span class="hljs-property">code</span>);
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">code</span>: <span class="hljs-keyword">await</span> <span class="hljs-title function_">getContent</span>(codeURL),
          <span class="hljs-attr">lang</span>: <span class="hljs-title function_">guessLangFromURL</span>(codeURL),
          <span class="hljs-attr">title</span>: slide.<span class="hljs-property">title</span>,
        };
      }
      <span class="hljs-keyword">return</span> slide;
    })
  );

  printer.<span class="hljs-property">styles</span> = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
    printer.<span class="hljs-property">styles</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> <span class="hljs-title function_">getContent</span>(path))
  );

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">print</span>(options.<span class="hljs-property">output</span> ?? stdout.<span class="hljs-property">fd</span>, printer);

  <span class="hljs-comment">// // Not paralleled</span>
  <span class="hljs-comment">// for (const slide of printer.slides) {</span>
  <span class="hljs-comment">//   if (slide.code) {</span>
  <span class="hljs-comment">//     const codeURL = parseURL(slide.code);</span>
  <span class="hljs-comment">//     slide.code = await getContent(codeURL);</span>
  <span class="hljs-comment">//     slide.lang = guessLangFromURL(codeURL);</span>
  <span class="hljs-comment">//   }</span>
  <span class="hljs-comment">// }</span>
  <span class="hljs-comment">// for (const [index, path] of printer.styles.entries()) {</span>
  <span class="hljs-comment">//   printer.styles[index] = await getContent(path);</span>
  <span class="hljs-comment">// }</span>
};
</code></pre></p>
  </div>
  <div class="slide" id="_9">
    <hr>
    <h1 id="the-end">The End</h1>
  </div>
  </div>
</body>
</html>
